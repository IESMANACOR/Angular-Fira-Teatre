<ul class="llistaancles">
  <li class="ancles" id="fitxatecnica"><a href="#fitxatecnica" class="ancla">Fitxa tècnica</a> / </li>
  <li class="ancles"><a href="#sessions" class="ancla"> Sessions</a> / </li>
  <li class="ancles"><a href="#anclacomentaris" class="ancla"> Comentaris</a></li>
</ul>
<main>
  <div class="col-12 col-md-12">
    <div class="col-md-1 d-inline-block"></div>
    <br>
    <div class="col-0 col-md-1 d-inline-block"></div>
    <div class="divCartell col-12 col-md-3 d-inline-block">
      <img src="/imatges/{{detallEspectacle?.detalls[0].codi}}/{{detallEspectacle?.detalls[0].foto}}" alt="foto" class="fotoCartell">

    </div>
    <div *ngFor='let espectacle of detallEspectacle?.detalls; ' class="col-12 col-md-8 d-inline-block align-top">

      <p *ngFor='let espectacle of detallEspectacle?.detalls;' class="d-inline-block titolEspectacle text-center col-md-12"> {{espectacle.titol}}</p>
      <p class="d-inline-block col-md-6 subtitolEspectacle" *ngFor='let companyia of detallEspectacle?.companyia'> {{companyia.nomCompanyia}}</p>
      <p class="d-inline-block col-md-5 subtitolEspectacleDret" *ngFor='let genere of detallEspectacle?.genere'> {{genere.nomGenere}}</p>

      <br>

      <p class="textEspectacle font-weight-bold" *ngFor='let espectacle of detallEspectacle?.detalls'> {{espectacle.sinopsi}}</p>


      <ul style="" class="col-md-12 pl-2 detallsExtra">

        <li class="textEspectacle d-inline-block font-weight-bold"><i class="fas fa-clock"></i> {{espectacle.duracio}} min </li>
        <li class="textEspectacle d-inline-block font-weight-bold"><i class="fas fa-users"></i> {{espectacle.edatRecomanada}} </li>
        <li class="textEspectacle d-inline-block font-weight-bold"><i class="fas fa-ticket-alt"></i> {{espectacle.preu}} <i class="fas fa-euro-sign"></i></li><br>

        <li class="textEspectacle d-inline-block">Gènere : </li>
        <li class="d-inline-block" *ngFor='let genere of detallEspectacle?.genere'> {{genere.nomGenere}}</li><br>
        <li class="textEspectacle d-inline-block">Tipus d'espectacle : </li>
        <li class="d-inline-block" *ngFor='let tipus of detallEspectacle?.tipus'> {{tipus.nomTipus}}</li><br>
        <li class="textEspectacle d-inline-block">Companyía :</li>
        <li class="d-inline-block" *ngFor='let companyia of detallEspectacle?.companyia'> {{companyia.nomCompanyia}}</li><br>

        <div class=" col-md-12 d-inline-block align-top divDirectors">

          <div class="col-md-6 d-inline-block">
            <p>Director : </p>
            <p class="pl-2 font-weight-bold" *ngFor='let espectacle of detallEspectacle?.director'> {{espectacle.nom}} {{espectacle.llinatge1}} {{espectacle.llinatge2}}</p>
          </div>

          <div class="col-md-6 d-inline-block align-top float-right">

          <p>Actors : </p>
          <ul class="actors" id="sessions">
            <li class="actors font-weight-bold" *ngFor='let espectacle of detallEspectacle?.actor'>{{espectacle.nom}} {{espectacle.llinatge1}} {{espectacle.llinatge2}}</li>
          </ul>
        </div>
        </div>

      </ul>

    </div>
    <div class="col-12 col-md-0 d-inline-block align-top">
      <br>

    </div>
  </div>
  <div class="d-inline-block col-12 col-md-12">
    <br>
  </div>
  <div class="col-12 col-md-12 border">
    <div class="col-0 col-md-1 d-inline-block"></div>
    <div class="col-12 col-md-10 d-inline-block">
      <h2 class="font-weight-bold d-inline-block">Selecciona la teva sessio : </h2>
      <table width="100%">
        <tr>
          <th>Data</th>
          <th>Hora</th>
          <th>Disponible</th>
          <th>Sala</th>
        </tr>
        <tr *ngFor='let sessio of detallEspectacle?.sessio'>
          <td>{{sessio.dataBona}}</td>
          <td>{{sessio.horaBona}}</td>
          <td class="text-center verd">Si</td>
          <td>{{sessio.nom}}</td>
          <td><a (click)="postProfile(sessio)" href="http://www.f.dawman.info/#/carret"><button class="btn ">Seleccionar</button></a></td>
        </tr>
        <tr *ngFor='let sessionsPassades of detallEspectacle?.sessionsPassades'>
          <td>{{sessionsPassades.dataBona}}</td>
          <td>{{sessionsPassades.hora}}</td>
          <td class="text-center vermell">No</td>
          <td>{{sessionsPassades.nom}}</td>
          <td><a (click)="postProfile(sessio)" href="http://www.f.dawman.info/#/carret"><button disabled class="btn ">Seleccionar</button></a></td>
        </tr>
      </table>

    </div>
    <div class="col-0 col-md-1 d-inline-block"></div>
  </div>
  <div class="col-12 col-md-12">
    <div class="col-0 col-md-1 d-inline-block"></div>
    <div class="col-12 col-md-10 d-inline-block">
      <div class="pl-3">
        <div class="w-100 pb-2">
          <h2 class="d-inline-block">Comentaris :</h2>
          <button type="button" class="btn btn-primary d-inline-block" id="insert-comentaris">Comentar </button>

          <div class="col-10 col-md-10 form-group">

            <form [formGroup]="formulari" id="comentaris" (ngSubmit)="enviarFormulari()">

              <input class="col-12 col-md-6" id="inputAnonim" placeholder="Inserti el seu correu..." type="text" formControlName="usuari" />
              <input type="checkbox" name="anon" id="anonymous"> Usuari anònim <br><br>
              <textarea type="text" class="form-control col-md-12 col-12" name="comentari" formControlName="comentari" placeholder="Inserti el seu comentari..." rows="5" required></textarea><br>

              <div *ngFor='let espectacle of detallEspectacle?.detalls' class="col-0">
                <input type="hidden" formControlName="codiEspectacle" value="{{espectacle.codi}}">
              </div>
              <div *ngIf="!formulari.valid">
                <p class="text-danger">*Ompl tots els camps</p>
              </div>

              <button type="submit" class="btn btn-primary float-right" [disabled]="!formulari.valid">Enviar Comentari</button><br>

            </form><br>
          </div>
        </div>
        <div *ngFor='let comentari of detallEspectacle?.comentari' class="col-md-12 col-12">
          <p class="font-weight-bold d-inline-block"> {{comentari.nomPersona}} :</p>
          <p class="d-inline-block"> {{comentari.contingut}}</p><br>
        </div>
      </div>
    </div>
  </div>

</main>
